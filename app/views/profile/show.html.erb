<h1 class="margin-top-medium">Hello <%= current_user.firstname %> <%= current_user.lastname %></h1>
<% if current_user %>
  <%= link_to t("actions.edit"), edit_profile_path, class:"btn btn-colored" %>
<% end %>
<div class="snippets list-drop-down">
  <% current_user.snippets.each do |snippet| %>
  <div class="snippet drop-down-item drop-hidden">
    <!-- <button class="drop-deploy-button">+</button> -->
    <div class="drop-header">
      <span class="info snippet-type">func</span>
      <span class="info snippet-lang uppercase" style="background-color: <%= snippet.lang.bgColor %>; color: <%= snippet.lang.color %>"><%= snippet.lang.cd %></span>
      <p class="drop-header-title"><%= snippet.name %></p>
      <div class="drop-header-right">
        <!-- <button class="info copy"></button> -->
        <span class="date"><%= snippet.updated_at.strftime("%d/%m/%Y") %></span>
      </div>
    </div>
    <div class="drop-body">
      <div class="code"><textarea class="codemirror-content" name="name" rows="8" cols="80"  data-cdMirrorMode="<%= snippet.lang.cdMirror %>"><%= snippet.snippet_versions.last.content %></textarea></div>
      <div class="content">
        <p class="description"><%= snippet.description %></p>
        <%= link_to t("actions.more"), snippet, class:"btn btn-dark" %>
        <% if current_user && snippet.user == current_user %>
          <%= link_to t("actions.destroy"), snippet, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-dark" %>
          <%= link_to t("actions.edit"), edit_snippet_path(snippet), class:"btn btn-dark" %>
        <% end %>
        <!-- <p>Utiliser dans 4 objets</p> -->
        <p class="description"><%= snippet.user.fullname %></p>
      </div>
    </div>
  </div>
  <% end %>
</div>
<%= link_to t("snippet.actions.new"), new_snippet_path, class:"btn btn-colored" %>
